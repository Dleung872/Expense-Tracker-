def expense_calculation():
    total = 0.0
    category_totals = {}
    for category, expenses in expense_categories.items():
        cat_total = 0.0
        for exp_str in expenses:
            try:
                parts = exp_str.split(' - $')
                if len(parts) == 2:
                    amount_part = parts[1].split(' on ')[0]   # Note: the original English version uses " on "
                    amount = float(amount_part)
                    total += amount
                    cat_total += amount
            except (ValueError, IndexError):
                print(f"Warning: could not parse: {exp_str}")
        if cat_total > 0:
            category_totals[category] = cat_total
    os.system('clear')
    print("\n=== Expense Summary ===")
    print(f"Total expenses: ${total:.2f}")
    if category_totals:
        print("\nPer Category:")
        for cat, amt in category_totals.items():
            print(f"  {cat}: ${amt:.2f}")
    else:
        print("No expenses recorded.")
    input("\nPress Enter to return to main menu...")
